<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>scapesClassification conditions — conditions • scapesClassification</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous"><link href="../docsearch.css" rel="stylesheet"><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="scapesClassification conditions — conditions"><meta property="og:description" content="Check for spelling and syntax errors in conditions (cond argument) and
detect the type of conditions being used."><meta property="og:image" content="https://ghtaranto.github.io/scapesClassification/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-light navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">scapesClassification</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/get_st.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="dropdown-header">Implementation</li>
    <li>
      <a href="../articles/ghp/scapesClassification_01_1_FormatInputs.html">Format inputs</a>
    </li>
    <li>
      <a href="../articles/ghp/scapesClassification_01_2_RulesEvalTypes.html">Rule evaluation and types</a>
    </li>
    <li>
      <a href="../articles/ghp/scapesClassification_01_3_ClassFunctions.html">Classification functions</a>
    </li>
    <li>
      <a href="../articles/ghp/scapesClassification_01_4_ObjFunctions.html">Object functions</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Geomorphic management units (GMUs)</li>
    <li>
      <a href="../articles/ghp/scapesClassification_02_1_DATA.html">Format input data</a>
    </li>
    <li>
      <a href="../articles/ghp/scapesClassification_02_2_ISU.html">Island shelf unit (ISU)</a>
    </li>
    <li>
      <a href="../articles/ghp/scapesClassification_02_3_PKS.html">Peak cells (PCs)</a>
    </li>
    <li>
      <a href="../articles/ghp/scapesClassification_02_4_OBJ.html">Relief unit (RU) and raster objects (ROs)</a>
    </li>
  </ul></li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ghTaranto/scapesClassification" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul><form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off"></div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>scapesClassification conditions</h1>
    <small class="dont-index">Source: <a href="https://github.com/ghTaranto/scapesClassification/blob/HEAD/R/helperFunctions.R" class="external-link"><code>R/helperFunctions.R</code></a></small>
    <div class="hidden name"><code>conditions.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Check for spelling and syntax errors in conditions (<code>cond</code> argument) and
detect the type of conditions being used.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">conditions</span><span class="op">(</span><span class="va">names_attTbl</span>, <span class="va">cond</span>, silent <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>names_attTbl</dt>
<dd><p>character vector, the column (i.e. variable) names of the
attribute table returned by the function <code><a href="attTbl.html">attTbl</a></code>.</p></dd>
<dt>cond</dt>
<dd><p>character string, the condition string used by the <code>cond.*</code>
functions to classify raster cells (see <code>conditions</code>).</p></dd>
<dt>silent</dt>
<dd><p>logic, when true, the function returns only error messages.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>An error message if the function finds spelling or syntax errors or a
string with the types of rules detected in the condition string.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p><strong>Conditions (alias classification rules)</strong></p><ul><li><p>Classification rules evaluate either to true or false and determine what
raster cells have to be classified.</p></li>
<li><p>Conditions are passed to <code>scapesClassification</code> functions as a
single character string. They can consist of combination of variables names
(as named in the attribute table, see <code><a href="attTbl.html">attTbl</a></code>), arithmetic
<code>(+|-|*|/|^|%%|%/%)</code>, relational <code>(&gt;|&lt;|&gt;=|&lt;=|==|!=|%/%)</code> and
logic operators <code>(&amp;||)</code> and base R functions (e.g.,
<code>abs(variable_name)</code>).</p></li>
<li><p>All variables included in an attribute table (see <code><a href="attTbl.html">attTbl</a></code>)
can be included in a condition string by name (e.g., var name =
<code>"dummy_var"</code>; condition = <code>"dummy_var &gt; 1"</code>).<br></p></li>
</ul><p><strong>Class vectors</strong></p><ul><li><p>Class vectors map raster cells to numeric classes.</p></li>
<li><p>The n^th^ element of a class vector stores the class of the raster cell
stored in the n^th^ row of the corresponding attribute table (see
<code><a href="attTbl.html">attTbl</a></code>).</p></li>
<li><p>Class vectors can serve also as a function input. As inputs, they provide
information about the groups of cells that have already been classified.</p></li>
<li><p>Every time a class vector is provided as a function input, it is
<em>updated</em> by assigning a numeric class to <em>unclassified cells</em> that meet
function conditions.</p></li>
<li><p>Unclassified cells are represented as NA values.<br></p></li>
</ul><p><strong>Rule evaluation: Global evaluation</strong></p><ul><li><p>Classification rules are applied to all unclassified raster
cells.</p></li>
<li><p>Function using <em>global evaluation</em>: <code><a href="cond.4.all.html">cond.4.all</a></code>.</p></li>
</ul><p><strong>Rule evaluation: Focal evaluation</strong></p><ul><li><p>Classification rules are applied only to raster cells at specific
locations and are based on class (dis)contiguity and class continuity.</p></li>
<li><p><strong>Class contiguity:</strong> <br> classification rules are applied only to raster
cells contiguous to focal cells (identified in the <code>cond.*</code> functions
by the argument <code>nbs_of</code>).</p></li>
<li><p><strong>Class continuity:</strong> <br> join into the same class cells that respect the
same rules and that are connected to the same focal cells. This means that,
at each iteration, newly classified cells become focal cells and conditions
are tested in their neighborhood.</p></li>
<li><p>Function using <em>focal evaluation</em>: <code><a href="anchor.seed.html">anchor.seed</a></code>,
<code><a href="cond.4.nofn.html">cond.4.nofn</a></code>, <code><a href="cond.reclass.html">cond.reclass</a></code>,
<code><a href="reclass.nbs.html">reclass.nbs</a></code> and <code><a href="classify.all.html">classify.all</a></code>.<br></p></li>
</ul><p><strong>Focal evaluation: Definitions</strong></p><ul><li><p><strong>Cell neighborhood:</strong> a cell with coordinates <code>(x, y)</code> has 8
neighbors with coordinates: <code>(x±1, y)</code>,  <code>(x, y±1)</code> and
<code>(x±1, y±1)</code>. Cells on the edge of a raster have less than 8
neighbors. See <code><a href="ngbList.html">ngbList</a></code>.</p></li>
<li><p><strong>Focal cell:</strong> cells whose neighbors are evaluated against the
classification rule(s). In the classification functions <em>focal cells</em> are
identified by the argument <code>nbs_of</code>.</p></li>
<li><p><strong>Test cell:</strong> the cell in the neighborhood of the focal cell that is
being tested. At turns all cells in the neighborhood of a focal cell are
tested against the classification rule(s).</p></li>
<li><p><strong>Directional neighborhood:</strong> it consists of the intersection between the
focal and the test cell neighborhoods.<br></p></li>
</ul><p><strong>Condition type: Absolute conditions</strong></p>
<p><strong>1) Absolute test cell condition:</strong> compares cell values against a
threshold value.</p><ul><li><p>This type of condition applies to all functions with a <code>conditions</code>
argument.</p></li>
<li><p>In global evaluations all cells meeting absolute conditions receive a
classification number. In focal evaluations all <code>test cells</code> meeting
absolute conditions receive a classification number.</p></li>
<li><p><em>Examples of valid conditions:</em> <code>"variable_A &gt; 1 &amp; variable_B !=
  0"</code>; <code>"(variable_A^2 &lt; 50 &amp; variable_B == 0) | abs(variable_C) &gt; 50"</code>.<br><em>Functions:</em> <code><a href="anchor.seed.html">anchor.seed</a></code>, <code><a href="cond.4.all.html">cond.4.all</a></code>,
<code><a href="cond.4.nofn.html">cond.4.nofn</a></code> and <code><a href="cond.reclass.html">cond.reclass</a></code>.<br></p></li>
</ul><p><strong>2) Absolute neighborhood condition:</strong> compares the values of the
<code>test cell</code> and of its <code>neighborhood</code> against a threshold value.</p><ul><li><p>An absolute neighborhood condition is identified by a variable name
followed by curly brackets (e.g., <code>"variable_name{}"</code>).</p></li>
<li><p>A maximum of 9 evaluations are performed for each test cell (the test
cell itself and the cells of its neighborhood are compared against a
threshold value).</p></li>
<li><p>Test cells receive a classification number if the rule is true for at
least as many evaluations as the ones specified by the argument
<code>peval</code>. The argument <code>peval</code> ranges from 0 to 1. When 9
evaluations are performed, <code>peval = 1</code> means that all <code>9</code>
evaluations have to be true; <code>peval = 0.5</code> means that at least
<code>4.5</code> (rounded to <code>5</code>) evaluations have to be true.</p></li>
<li><p>Only one neighborhood rule is allowed for each condition string (e.g., it
is not possible to have a condition string like <code>"variable_A{} &gt; 0 &amp;
  variable_B{} &gt; 1"</code>).</p></li>
<li><p>The function <code><a href="cond.4.nofn.html">cond.4.nofn</a></code> can consider a <code>directional
  neighborhood</code> instead of the test cell neighborhood by setting the argument
<code>directional = TRUE</code>.</p></li>
<li><p><em>Example of valid conditions:</em> <code>"variable_A{} &gt; 1 &amp; abs(variable_B)
  != 0"</code>. <br><em>Functions:</em> <code><a href="cond.4.nofn.html">cond.4.nofn</a></code> and
<code><a href="cond.reclass.html">cond.reclass</a></code>.<br></p></li>
</ul><p><strong>Condition type: Relative conditions</strong></p>
<p><strong>1) Relative focal cell condition:</strong> compares the <code>test cell</code> value
against the <code>focal cell</code> value.</p><ul><li><p>A relative focal cell condition is identified by a variable name followed
by square brackets (e.g., <code>"variable_name[]"</code>).</p></li>
<li><p>Rules are defined repeating twice the same variable name, once with
square brackets and once without. Square brackets indicate the focal cell
value. As an example, the rule <code>"dummy_var &lt; dummy_var[]"</code> compares
the value of the the test cell (<code>"dummy_var"</code>) against the value of
the focal cell (<code>"dummy_var[]"</code>).</p></li>
<li><p>Test cells are classified if the rule is true.</p></li>
<li><p><em>Examples of valid conditions:</em> <code>"variable_A &gt; variable_A[]"</code>;
<code>"(variable_A &gt; variable_A[] &amp; variable_B{} &lt; 10) | variable_C &gt; 1"</code>.
Note that the last example is a combination of absolute and focal cell
conditions. <br><em>Functions:</em> <code><a href="anchor.seed.html">anchor.seed</a></code> and
<code><a href="cond.4.nofn.html">cond.4.nofn</a></code>.</p></li>
</ul><p><strong>2) Relative neighborhood condition:</strong> compares the values of the <code>test
  cell</code> against the values of the <code>test cell neighborhood</code>.</p><ul><li><p>A relative neighborhood condition is identified by a variable name
followed by curly brackets (e.g., <code>"variable_name{}"</code>).</p></li>
<li><p>Rules are defined repeating twice the same variable name, once with curly
brackets and once without. Curly brackets indicate the test cell
neighborhood. As an example, the rule <code>'dummy_var &lt; dummy_var{}'</code>
compares the value of the the test cell (<code>dummy_var</code>) against the
values of cells included in the test cell neighborhood
(<code>dummy_var{}</code>).</p></li>
<li><p>A maximum of 8 evaluations are performed for each test cell (the test
cell is compared against each cell included in its neighborhood).</p></li>
<li><p>Test cells receive a classification number if the rule is true for at
least as many evaluations as the ones specified by the argument
<code>peval</code>. The argument <code>peval</code> ranges from 0 to 1. When 8
evaluations are performed, <code>peval = 1</code> means that all <code>8</code>
evaluations have to be true; <code>peval = 0.5</code> means that at least
<code>4</code> evaluations have to be true.</p></li>
<li><p>Only one neighborhood rule is allowed for each condition string (e.g., it
is not possible to have a condition string like <code>"variable_A{} &gt; 0 &amp;
  variable_B{} &gt; variable_B"</code>).</p></li>
<li><p>The function <code><a href="cond.4.nofn.html">cond.4.nofn</a></code> can consider a <code>directional
  neighborhood</code> instead of the test cell neighborhood by setting the argument
<code>directional = TRUE</code>.</p></li>
<li><p><em>Example of valid conditions:</em> <code>"variable_A &gt; variable_A{}"</code>;
<code>"(variable_A &gt; variable_A{} &amp; variable_B != variable_B[]) |
  variable_C &gt; 1"</code>. Note that the last example is a combination of absolute
and relative conditions. <br><em>Functions:</em> <code><a href="cond.4.nofn.html">cond.4.nofn</a></code> and
<code><a href="cond.reclass.html">cond.reclass</a></code>.</p></li>
</ul></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="cond.4.all.html">cond.4.all()</a></code>, <code><a href="cond.4.nofn.html">cond.4.nofn()</a></code>, <code><a href="anchor.seed.html">anchor.seed()</a></code>, <code><a href="cond.reclass.html">cond.reclass()</a></code>,
<code>conditions()</code></p>
<p><code><a href="anchor.seed.html">anchor.seed()</a></code>, <code><a href="attTbl.html">attTbl()</a></code>, <code><a href="cond.4.all.html">cond.4.all()</a></code>, <code><a href="cond.4.nofn.html">cond.4.nofn()</a></code>,
<code><a href="cond.reclass.html">cond.reclass()</a></code>, <code><a href="classify.all.html">classify.all()</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># LOAD LIBRARIES</span></span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ghTaranto/scapesClassification" class="external-link">scapesClassification</a></span><span class="op">)</span></span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/terra/" class="external-link">terra</a></span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">################################################################################</span></span>
<span class="r-in"><span class="co"># TYPES OF CONDITIONS</span></span>
<span class="r-in"><span class="co">################################################################################</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># As an example consider an attribute with the following columns</span></span>
<span class="r-in"><span class="va">names_attTbl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"bathymetry"</span>, <span class="st">"slope"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># And the following conditions</span></span>
<span class="r-in"><span class="va">cond</span> <span class="op">&lt;-</span> <span class="st">"bathymetry&gt;10"</span></span>
<span class="r-in"><span class="fu">conditions</span><span class="op">(</span><span class="va">names_attTbl</span>, <span class="va">cond</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "'Absolute test cell' condition type(s) detected."</span>
<span class="r-in"></span>
<span class="r-in"><span class="va">cond</span> <span class="op">&lt;-</span> <span class="st">"bathymetry[]&gt;bathymetry | abs(slope{}) &lt; 5"</span></span>
<span class="r-in"><span class="fu">conditions</span><span class="op">(</span><span class="va">names_attTbl</span>, <span class="va">cond</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "'Relative focal cell' AND 'Absolute neighborhood' condition type(s) detected."</span>
<span class="r-in"></span>
<span class="r-in"><span class="va">cond</span> <span class="op">&lt;-</span> <span class="st">"bathymetry[]&gt;bathymetry | abs(slope{}) &lt; slope"</span></span>
<span class="r-in"><span class="fu">conditions</span><span class="op">(</span><span class="va">names_attTbl</span>, <span class="va">cond</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "'Relative focal cell' AND 'Relative neighborhood' condition type(s) detected."</span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># The function conditions detect syntax and spelling errors</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">cond</span> <span class="op">&lt;-</span> <span class="st">"bathymetry[]&gt;10 &amp; | abs(slope{}) &lt; 5"</span></span>
<span class="r-in"><span class="fu">conditions</span><span class="op">(</span><span class="va">names_attTbl</span>, <span class="va">cond</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">cond</span> <span class="op">&lt;-</span> <span class="st">"baxxxthymetryxxx[]&gt;10 &amp;  abs(slope{}) &lt; 5"</span></span>
<span class="r-in"><span class="fu">conditions</span><span class="op">(</span><span class="va">names_attTbl</span>, <span class="va">cond</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># 'seedVector' and 'classVector' are not valid names</span></span>
<span class="r-in"><span class="va">names_attTbl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">names_attTbl</span>, <span class="st">"classVector"</span>, <span class="st">"seedVector"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">cond</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span></span>
<span class="r-in"><span class="fu">conditions</span><span class="op">(</span><span class="va">names_attTbl</span>, <span class="va">cond</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">################################################################################</span></span>
<span class="r-in"><span class="co"># FOCAL EVALUATION DEFINITIONS</span></span>
<span class="r-in"><span class="co">################################################################################</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># CELL NUMBERS OF A DUMMY RASTER (7X7)</span></span>
<span class="r-in"><span class="va">r</span>   <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/rast.html" class="external-link">rast</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">49</span>, nrow <span class="op">=</span> <span class="fl">7</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, extent<span class="op">=</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">7</span>,<span class="fl">0</span>,<span class="fl">7</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="va">nbs</span> <span class="op">&lt;-</span> <span class="fu"><a href="ngbList.html">ngbList</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># CLASS VECTOR WITH ONE TEST AND ONE FOCAL CELL</span></span>
<span class="r-in"><span class="va">cv</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/catalyze.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">49</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="va">cv</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">32</span>, <span class="fl">25</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span> <span class="co"># tc (class 1), fc (class 2)</span></span>
<span class="r-in"><span class="va">r_cv</span> <span class="op">&lt;-</span> <span class="fu"><a href="cv.2.rast.html">cv.2.rast</a></span><span class="op">(</span><span class="va">r</span>, classVector <span class="op">=</span> <span class="va">cv</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># POLYGONS REPRESENTING NEIGHBORHOODS</span></span>
<span class="r-in"><span class="va">fcn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">2</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">2</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">5</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="va">fcn</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/vect.html" class="external-link">vect</a></span><span class="op">(</span><span class="va">fcn</span>, type<span class="op">=</span><span class="st">"polygons"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">tcn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">4</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">1</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="va">tcn</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/vect.html" class="external-link">vect</a></span><span class="op">(</span><span class="va">tcn</span>, type<span class="op">=</span><span class="st">"polygons"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># PLOT - FOCAL EVALUATION DEFINITIONS</span></span>
<span class="r-in"><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3.5</span>, <span class="fl">8</span>, <span class="fl">1.2</span>, <span class="fl">8</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">r_cv</span>, type <span class="op">=</span> <span class="st">"class"</span>, asp <span class="op">=</span> <span class="cn">NA</span>, legend <span class="op">=</span> <span class="cn">FALSE</span>, axes <span class="op">=</span> <span class="cn">FALSE</span>, mar <span class="op">=</span> <span class="va">m</span>,</span>
<span class="r-in">     col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"goldenrod3"</span>,<span class="st">"#1088a0"</span><span class="op">)</span>, colNA<span class="op">=</span> <span class="st">"grey90"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/pkg/terra/man/text.html" class="external-link">text</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">3</span>, line<span class="op">=</span><span class="fl">0</span>, adj<span class="op">=</span><span class="fl">0</span>, cex<span class="op">=</span><span class="fl">1</span>, font<span class="op">=</span><span class="fl">2</span>, <span class="st">"FOCAL EVALUATION"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">1</span>, line<span class="op">=</span><span class="fl">0</span>, adj<span class="op">=</span><span class="fl">0</span>, cex<span class="op">=</span><span class="fl">0.9</span>,</span>
<span class="r-in">      <span class="st">"Focal cell neighborhood: 17, 18, 19, 24, 26, 31, 32, 33"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">1</span>, line<span class="op">=</span><span class="fl">1</span>, cex<span class="op">=</span><span class="fl">0.9</span>, adj<span class="op">=</span><span class="fl">0</span>,</span>
<span class="r-in">      <span class="st">"Test cell neighborhood: 24, 25, 26, 31, 33, 38, 39, 40"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">1</span>, line<span class="op">=</span><span class="fl">2</span>, cex<span class="op">=</span><span class="fl">0.9</span>, adj<span class="op">=</span><span class="fl">0</span>,</span>
<span class="r-in">     <span class="st">"Directional neighborhood: 24, 25, 26, 31, 32, 33"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/pkg/terra/man/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="va">fcn</span>, col<span class="op">=</span><span class="st">"#1088a0"</span>, lwd<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/pkg/terra/man/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="va">tcn</span>, col<span class="op">=</span><span class="st">"#cfad8999"</span>, lwd<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span><span class="st">"bottomleft"</span>, ncol <span class="op">=</span> <span class="fl">1</span>, bg <span class="op">=</span> <span class="st">"white"</span>, y.intersp<span class="op">=</span> <span class="fl">1.3</span>,</span>
<span class="r-in">       legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Focal cell"</span>, <span class="st">"Test cell"</span><span class="op">)</span>, fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#1088a0"</span>, <span class="st">"goldenrod3"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-plt img"><img src="conditions-1.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Gerald H. Taranto.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '5cc755c9236170520ae6400a64cf71d5',
    indexName: 'scapesclassification',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script></body></html>

