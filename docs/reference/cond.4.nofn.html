<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Test conditions for neighbors and neighbors of neighbors — cond.4.nofn • scapesClassification</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous"><link href="../docsearch.css" rel="stylesheet"><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Test conditions for neighbors and neighbors of neighbors — cond.4.nofn"><meta property="og:description" content="Evaluate conditions for cells neighboring specific classes and classify them
if conditions are true."><meta property="og:image" content="https://ghtaranto.github.io/scapesClassification/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-light navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">scapesClassification</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/get_st.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="dropdown-header">Implementation</li>
    <li>
      <a href="../articles/imp/scapesClassification_01_1_FormatInputs.html">Format inputs</a>
    </li>
    <li>
      <a href="../articles/imp/scapesClassification_01_2_RulesEvalTypes.html">Rule evaluation and types</a>
    </li>
    <li>
      <a href="../articles/imp/scapesClassification_01_3_ClassFunctions.html">Classification functions</a>
    </li>
    <li>
      <a href="../articles/imp/scapesClassification_01_4_ObjFunctions.html">Object functions</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Geomorphic management units (GMUs)</li>
    <li>
      <a href="../articles/exm/scapesClassification_02_1_DATA.html">Format input data</a>
    </li>
    <li>
      <a href="../articles/exm/scapesClassification_02_2_ISU.html">Island shelf unit (ISU)</a>
    </li>
    <li>
      <a href="../articles/exm/scapesClassification_02_3_PKS.html">Peak cells (PCs)</a>
    </li>
    <li>
      <a href="../articles/exm/scapesClassification_02_4_OBJ.html">Relief unit (RU) and raster objects (ROs)</a>
    </li>
  </ul></li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ghTaranto/scapesClassification" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul><form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off"></div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Test conditions for neighbors and neighbors of neighbors</h1>
    <small class="dont-index">Source: <a href="https://github.com/ghTaranto/scapesClassification/blob/HEAD/R/cond_4_nofn.R" class="external-link"><code>R/cond_4_nofn.R</code></a></small>
    <div class="hidden name"><code>cond.4.nofn.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Evaluate conditions for cells neighboring specific classes and classify them
if conditions are true.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">cond.4.nofn</span><span class="op">(</span>
  <span class="va">attTbl</span>,
  <span class="va">ngbList</span>,
  rNumb <span class="op">=</span> <span class="cn">FALSE</span>,
  <span class="va">classVector</span>,
  <span class="va">class</span>,
  <span class="va">nbs_of</span>,
  <span class="va">cond</span>,
  min.bord <span class="op">=</span> <span class="cn">NULL</span>,
  max.iter <span class="op">=</span> <span class="op">+</span><span class="cn">Inf</span>,
  peval <span class="op">=</span> <span class="fl">1</span>,
  directional <span class="op">=</span> <span class="cn">FALSE</span>,
  ovw_class <span class="op">=</span> <span class="cn">FALSE</span>,
  hgrowth <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>attTbl</dt>
<dd><p>data.frame, the attribute table returned by the function
<code><a href="attTbl.html">attTbl</a></code>.</p></dd>
<dt>ngbList</dt>
<dd><p>list, the list of neighborhoods returned by the function
<code><a href="ngbList.html">ngbList</a></code>.</p></dd>
<dt>rNumb</dt>
<dd><p>logic, the neighborhoods of the argument <code>ngbList</code> are
identified by cell numbers (<code>rNumb=FALSE</code>) or by row numbers
(<code>rNumb=TRUE</code>) (see <code><a href="ngbList.html">ngbList</a></code>). It is advised to use row
numbers for large rasters.</p></dd>
<dt>classVector</dt>
<dd><p>numeric vector, defines the cells in the attribute table
that have already been classified. See <code><a href="conditions.html">conditions</a></code> for more
information about class vectors.</p></dd>
<dt>class</dt>
<dd><p>numeric, the classification number to assign to all cells that
meet the function conditions.</p></dd>
<dt>nbs_of</dt>
<dd><p>numeric or numeric vector, indicates the class(es) of focal and
anchor cells. Conditions are only evaluated at positions adjacent to anchor
and focal cells. If the classification number assigned with the argument
<code>class</code> is also included in the argument <code>nbs_of</code>, the function
takes into account <em>class continuity</em> (see <code><a href="conditions.html">conditions</a></code>).</p></dd>
<dt>cond</dt>
<dd><p>character string, the conditions a cell have to meet to be
classified as indicated by the argument <code>class</code>. The classification
number is only assigned to unclassified cells unless the argument
<code>ovw_class = TRUE</code>. See <code><a href="conditions.html">conditions</a></code> for more details.</p></dd>
<dt>min.bord</dt>
<dd><p>numeric value between 0 and 1. A test cell is classified if
conditions are true and if among its bordering cells a percentage equal
or greater than <code>min.bord</code> belong to one of the classes of
<code>nbs_of</code>. Percentages are computed counting only valid neighbors
(i.e., neighbors with complete cases).</p></dd>
<dt>max.iter</dt>
<dd><p>integer, the maximum number of iterations.</p></dd>
<dt>peval</dt>
<dd><p>numeric value between 0 and 1. If <em>absolute or relative
neighborhood conditions</em> are considered, test cells are classified if the
number of positive evaluations is equal or greater than the percentage
specified by the argument <code>peval</code> (see <code><a href="conditions.html">conditions</a></code>).</p></dd>
<dt>directional</dt>
<dd><p>logic, absolute or relative neighborhood conditions are
tested using the <em>directional neighborhood</em> (see <code><a href="conditions.html">conditions</a></code>).</p></dd>
<dt>ovw_class</dt>
<dd><p>logic, reclassify cells that were already classified and
that meet the function conditions.</p></dd>
<dt>hgrowth</dt>
<dd><p>logic, if true the classes in <code>nbs_of</code> are treated as
discrete raster objects and the argument <code>class</code> is ignored.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>Update <code>classVector</code> with the new cells that were classified by
the function. See <code><a href="conditions.html">conditions</a></code> for more details about class
vectors.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    
<ul><li><p>The function evaluates the conditions of the
argument <code>cond</code> for all unclassified cells in the neighborhood of
focal and anchor cells (specified by the argument <code>nbs_of</code>).
Unclassified cells are NA-cells in <code>classVector</code>.</p></li>
<li><p>Cells that meet the function conditions are classified as indicted by
the argument <code>class</code>.</p></li>
<li><p><em>Class continuity</em> is considered if the classification number
assigned with the argument <code>class</code> is also included in the argument
<code>nbs_of</code>. This means that, at each iteration, newly classified cells
become focal cells and conditions are tested in their neighborhood.</p></li>
<li><p>All types of conditions can be used. The condition string can only
include one neighborhood condition (<code>'{}'</code>) (see
<code><a href="conditions.html">conditions</a></code>).</p></li>
</ul><p><br></p>
<p><strong>Homogeneous growth (<code>hgrowth</code>)</strong></p>
<p>If the argument <code>hgrowth</code> is true the classes in <code>nbs_of</code> are
treated as discrete raster objects and the argument <code>class</code> is
ignored. Iterations proceed as follow:</p><ul><li><p>cells contiguous to the first element of <code>nbs_of</code> are evaluated
against the classification rules and, when evaluations are true, cells are
assigned to that element;</p></li>
<li><p>the same process is repeated for cells contiguous to the second element
of <code>nbs_of</code>, then for cells contiguous to the third element and so on
until the last element of <code>nbs_of</code>;</p></li>
<li><p>once cells contiguous to the last element of <code>nbs_of</code> are evaluated
the iteration is complete;</p></li>
<li><p>cells classified in one iteration become focal cells in the next
iteration;</p></li>
<li><p>a new iteration starts as long as new cells were classified in the
previous iteration and if the iteration number &lt; <code>max.iter</code>.</p></li>
</ul></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="conditions.html">conditions()</a></code>, <code><a href="attTbl.html">attTbl()</a></code>, <code><a href="ngbList.html">ngbList()</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># DUMMY DATA</span></span>
<span class="r-in"><span class="co">######################################################################################</span></span>
<span class="r-in"><span class="co"># LOAD LIBRARIES</span></span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ghTaranto/scapesClassification" class="external-link">scapesClassification</a></span><span class="op">)</span></span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/terra/" class="external-link">terra</a></span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># LOAD THE DUMMY RASTER</span></span>
<span class="r-in"><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, package <span class="op">=</span> <span class="st">"scapesClassification"</span><span class="op">)</span>,</span>
<span class="r-in">                pattern <span class="op">=</span> <span class="st">"dummy_raster\\.tif"</span>, full.names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/rast.html" class="external-link">rast</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># COMPUTE THE ATTRIBUTE TABLE</span></span>
<span class="r-in"><span class="va">at</span> <span class="op">&lt;-</span> <span class="fu"><a href="attTbl.html">attTbl</a></span><span class="op">(</span><span class="va">r</span>, <span class="st">"dummy_var"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># COMPUTE THE LIST OF NEIGBORHOODS</span></span>
<span class="r-in"><span class="va">nbs</span> <span class="op">&lt;-</span> <span class="fu"><a href="ngbList.html">ngbList</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># SET A DUMMY FOCAL CELL (CELL #25)</span></span>
<span class="r-in"><span class="va">at</span><span class="op">$</span><span class="va">cv</span><span class="op">[</span><span class="va">at</span><span class="op">$</span><span class="va">Cell</span> <span class="op">==</span> <span class="fl">25</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># SET FIGURE MARGINS</span></span>
<span class="r-in"><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">8</span>, <span class="fl">2.5</span>, <span class="fl">8</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">######################################################################################</span></span>
<span class="r-in"><span class="co"># ABSOLUTE TEST CELL CONDITION - NO CLASS CONTINUITY</span></span>
<span class="r-in"><span class="co">######################################################################################</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># conditions: "dummy_var &gt;= 3"</span></span>
<span class="r-in"><span class="va">cv1</span> <span class="op">&lt;-</span> <span class="fu">cond.4.nofn</span><span class="op">(</span>attTbl <span class="op">=</span> <span class="va">at</span>, ngbList <span class="op">=</span> <span class="va">nbs</span>,</span>
<span class="r-in"></span>
<span class="r-in">                   <span class="co"># CLASS VECTOR - INPUT</span></span>
<span class="r-in">                   classVector <span class="op">=</span> <span class="va">at</span><span class="op">$</span><span class="va">cv</span>,</span>
<span class="r-in"></span>
<span class="r-in">                   <span class="co"># CLASSIFICATION NUMBER</span></span>
<span class="r-in">                   class <span class="op">=</span> <span class="fl">1</span>,</span>
<span class="r-in"></span>
<span class="r-in">                   <span class="co"># FOCAL CELL CLASS</span></span>
<span class="r-in">                   nbs_of <span class="op">=</span> <span class="fl">0</span>,</span>
<span class="r-in"></span>
<span class="r-in">                   <span class="co"># ABSOLUTE TEST CELL CONDITION</span></span>
<span class="r-in">                   cond <span class="op">=</span> <span class="st">"dummy_var &gt;= 3"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># CONVERT THE CLASS VECTOR INTO A RASTER</span></span>
<span class="r-in"><span class="va">r_cv1</span> <span class="op">&lt;-</span> <span class="fu"><a href="cv.2.rast.html">cv.2.rast</a></span><span class="op">(</span><span class="va">r</span>, <span class="va">at</span><span class="op">$</span><span class="va">Cell</span>,classVector <span class="op">=</span> <span class="va">cv1</span>, plot <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># PLOT</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">r_cv1</span>, type<span class="op">=</span><span class="st">"classes"</span>, axes<span class="op">=</span><span class="cn">FALSE</span>, legend <span class="op">=</span> <span class="cn">FALSE</span>, asp <span class="op">=</span> <span class="cn">NA</span>, mar <span class="op">=</span> <span class="va">m</span>,</span>
<span class="r-in">     colNA<span class="op">=</span><span class="st">"#818792"</span>, col<span class="op">=</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#78b2c4"</span>, <span class="st">"#cfad89"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/pkg/terra/man/text.html" class="external-link">text</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">3</span>, line<span class="op">=</span><span class="fl">1</span>, adj<span class="op">=</span><span class="fl">0</span>, cex<span class="op">=</span><span class="fl">1</span>, font<span class="op">=</span><span class="fl">2</span>, <span class="st">"CONDITION: ABSOLUTE TEST CELL"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">3</span>, line<span class="op">=</span><span class="fl">0</span>, adj<span class="op">=</span><span class="fl">0</span>, cex<span class="op">=</span><span class="fl">1</span>, <span class="st">"Class continuity: NO"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">1</span>, line<span class="op">=</span><span class="fl">0</span>, cex<span class="op">=</span><span class="fl">0.9</span>, adj<span class="op">=</span><span class="fl">0</span>, <span class="st">"Rule: 'dummy_var &gt;= 3'"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span><span class="st">"bottomright"</span>, bg <span class="op">=</span> <span class="st">"white"</span>, fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#78b2c4"</span>, <span class="st">"#cfad89"</span>, <span class="st">"#818792"</span><span class="op">)</span>,</span>
<span class="r-in">       legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Focal cell"</span>, <span class="st">"Classified cells"</span>, <span class="st">"Unclassified cells"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-plt img"><img src="cond.4.nofn-1.png" alt="" width="700" height="433"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">######################################################################################</span></span>
<span class="r-in"><span class="co"># ABSOLUTE TEST CELL CONDITION - WITH CLASS CONTINUITY</span></span>
<span class="r-in"><span class="co">######################################################################################</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># conditions: "dummy_var &gt;= 3"</span></span>
<span class="r-in"><span class="va">cv2</span> <span class="op">&lt;-</span> <span class="fu">cond.4.nofn</span><span class="op">(</span>attTbl <span class="op">=</span> <span class="va">at</span>, ngbList <span class="op">=</span> <span class="va">nbs</span>, classVector <span class="op">=</span> <span class="va">at</span><span class="op">$</span><span class="va">cv</span>,</span>
<span class="r-in"></span>
<span class="r-in">                  <span class="co"># CLASSIFICATION NUMBER</span></span>
<span class="r-in">                   class <span class="op">=</span> <span class="fl">1</span>,</span>
<span class="r-in"></span>
<span class="r-in">                   nbs_of <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,  <span class="co"># FOCAL CELL CLASS</span></span>
<span class="r-in">                              <span class="fl">1</span><span class="op">)</span>, <span class="co"># CLASSIFICATION NUMBER</span></span>
<span class="r-in"></span>
<span class="r-in">                   <span class="co"># ABSOLUTE CONDITION</span></span>
<span class="r-in">                   cond <span class="op">=</span> <span class="st">"dummy_var &gt;= 3"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># CONVERT THE CLASS VECTOR INTO A RASTER</span></span>
<span class="r-in"><span class="va">r_cv2</span> <span class="op">&lt;-</span> <span class="fu"><a href="cv.2.rast.html">cv.2.rast</a></span><span class="op">(</span><span class="va">r</span>, <span class="va">at</span><span class="op">$</span><span class="va">Cell</span>,classVector <span class="op">=</span> <span class="va">cv2</span>, plot <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># PLOT</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">r_cv2</span>, type<span class="op">=</span><span class="st">"classes"</span>, axes<span class="op">=</span><span class="cn">FALSE</span>, legend <span class="op">=</span> <span class="cn">FALSE</span>, asp <span class="op">=</span> <span class="cn">NA</span>, mar <span class="op">=</span> <span class="va">m</span>,</span>
<span class="r-in">     colNA<span class="op">=</span><span class="st">"#818792"</span>, col<span class="op">=</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#78b2c4"</span>, <span class="st">"#cfad89"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/pkg/terra/man/text.html" class="external-link">text</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">3</span>, line<span class="op">=</span><span class="fl">1</span>, adj<span class="op">=</span><span class="fl">0</span>, cex<span class="op">=</span><span class="fl">1</span>, font<span class="op">=</span><span class="fl">2</span>, <span class="st">"CONDITION: ABSOLUTE TEST CELL"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">3</span>, line<span class="op">=</span><span class="fl">0</span>, adj<span class="op">=</span><span class="fl">0</span>, cex<span class="op">=</span><span class="fl">1</span>, <span class="st">"Class continuity: YES"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">1</span>, line<span class="op">=</span><span class="fl">0</span>, cex<span class="op">=</span><span class="fl">0.9</span>, adj<span class="op">=</span><span class="fl">0</span>, <span class="st">"Rule: 'dummy_var &gt;= 3'"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span><span class="st">"bottomright"</span>, bg <span class="op">=</span> <span class="st">"white"</span>, fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#78b2c4"</span>, <span class="st">"#cfad89"</span>, <span class="st">"#818792"</span><span class="op">)</span>,</span>
<span class="r-in">       legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Focal cell"</span>, <span class="st">"Classified cells"</span>, <span class="st">"Unclassified cells"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-plt img"><img src="cond.4.nofn-2.png" alt="" width="700" height="433"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">######################################################################################</span></span>
<span class="r-in"><span class="co"># ABSOLUTE NEIGHBORHOOD CONDITION</span></span>
<span class="r-in"><span class="co">######################################################################################</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># conditions: "dummy_var{} &gt;= 3"</span></span>
<span class="r-in"><span class="va">cv3</span> <span class="op">&lt;-</span> <span class="fu">cond.4.nofn</span><span class="op">(</span>attTbl <span class="op">=</span> <span class="va">at</span>, ngbList <span class="op">=</span> <span class="va">nbs</span>, classVector <span class="op">=</span> <span class="va">at</span><span class="op">$</span><span class="va">cv</span>, nbs_of <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>, class <span class="op">=</span> <span class="fl">1</span>,</span>
<span class="r-in"></span>
<span class="r-in">                   <span class="co"># ABSOLUTE NEIGHBORHOOD CONDITION</span></span>
<span class="r-in">                   cond <span class="op">=</span> <span class="st">"dummy_var{} &gt;= 3"</span>,</span>
<span class="r-in"></span>
<span class="r-in">                   <span class="co"># RULE HAS TO BE TRUE FOR 100% OF THE EVALUATIONS</span></span>
<span class="r-in">                   peval <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># CONVERT THE CLASS VECTOR INTO A RASTER</span></span>
<span class="r-in"><span class="va">r_cv3</span> <span class="op">&lt;-</span> <span class="fu"><a href="cv.2.rast.html">cv.2.rast</a></span><span class="op">(</span><span class="va">r</span>, <span class="va">at</span><span class="op">$</span><span class="va">Cell</span>,classVector <span class="op">=</span> <span class="va">cv3</span>, plot <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">#PLOT</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">r_cv3</span>, type<span class="op">=</span><span class="st">"classes"</span>, axes<span class="op">=</span><span class="cn">FALSE</span>, legend <span class="op">=</span> <span class="cn">FALSE</span>, asp <span class="op">=</span> <span class="cn">NA</span>, mar <span class="op">=</span> <span class="va">m</span>,</span>
<span class="r-in">     colNA<span class="op">=</span><span class="st">"#818792"</span>, col<span class="op">=</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#78b2c4"</span>, <span class="st">"#cfad89"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/pkg/terra/man/text.html" class="external-link">text</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">3</span>, line<span class="op">=</span><span class="fl">1</span>, adj<span class="op">=</span><span class="fl">0</span>, cex<span class="op">=</span><span class="fl">1</span>, font<span class="op">=</span><span class="fl">2</span>, <span class="st">"CONDITION: ABSOLUTE NEIGHBORHOOD"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">3</span>, line<span class="op">=</span><span class="fl">0</span>, adj<span class="op">=</span><span class="fl">0</span>, cex<span class="op">=</span><span class="fl">1</span>, <span class="st">"Class continuity: YES"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">1</span>, line<span class="op">=</span><span class="fl">0</span>, cex<span class="op">=</span><span class="fl">0.9</span>, adj<span class="op">=</span><span class="fl">0</span>, <span class="st">"Rule: 'dummy_var{ } &gt;= 3'"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">1</span>, line<span class="op">=</span><span class="fl">0</span>, cex<span class="op">=</span><span class="fl">0.9</span>, adj<span class="op">=</span><span class="fl">1</span>, <span class="st">"('{ }' cell neighborhood)"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">1</span>, line<span class="op">=</span><span class="fl">1</span>, cex<span class="op">=</span><span class="fl">0.9</span>, adj<span class="op">=</span><span class="fl">0</span>, <span class="st">"Fn_perc: 1 (100%)"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span><span class="st">"bottomright"</span>, bg <span class="op">=</span> <span class="st">"white"</span>, fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#78b2c4"</span>, <span class="st">"#cfad89"</span>, <span class="st">"#818792"</span><span class="op">)</span>,</span>
<span class="r-in">       legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Focal cell"</span>, <span class="st">"Classified cells"</span>, <span class="st">"Unclassified cells"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-plt img"><img src="cond.4.nofn-3.png" alt="" width="700" height="433"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">######################################################################################</span></span>
<span class="r-in"><span class="co"># RELATIVE NEIGHBORHOOD CONDITION</span></span>
<span class="r-in"><span class="co">######################################################################################</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># conditions: "dummy_var &gt; dummy_var{}"</span></span>
<span class="r-in"><span class="va">cv4</span> <span class="op">&lt;-</span> <span class="fu">cond.4.nofn</span><span class="op">(</span>attTbl <span class="op">=</span> <span class="va">at</span>, ngbList <span class="op">=</span> <span class="va">nbs</span>, classVector <span class="op">=</span> <span class="va">at</span><span class="op">$</span><span class="va">cv</span>, nbs_of <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>, class <span class="op">=</span> <span class="fl">1</span>,</span>
<span class="r-in"></span>
<span class="r-in">                   <span class="co"># RELATIVE NEIGHBORHOOD CONDITION</span></span>
<span class="r-in">                   cond <span class="op">=</span> <span class="st">"dummy_var &gt; dummy_var{}"</span>,</span>
<span class="r-in"></span>
<span class="r-in">                   <span class="co"># RULE HAS TO BE TRUE FOR AT LEAST 60% OF THE EVALUATIONS</span></span>
<span class="r-in">                   peval <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># CONVERT THE CLASS VECTOR INTO A RASTER</span></span>
<span class="r-in"><span class="va">r_cv4</span> <span class="op">&lt;-</span> <span class="fu"><a href="cv.2.rast.html">cv.2.rast</a></span><span class="op">(</span><span class="va">r</span>, <span class="va">at</span><span class="op">$</span><span class="va">Cell</span>, classVector <span class="op">=</span> <span class="va">cv4</span>, plot <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">#PLOT</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">r_cv4</span>, type<span class="op">=</span><span class="st">"classes"</span>, axes<span class="op">=</span><span class="cn">FALSE</span>, legend <span class="op">=</span> <span class="cn">FALSE</span>, asp <span class="op">=</span> <span class="cn">NA</span>, mar <span class="op">=</span> <span class="va">m</span>,</span>
<span class="r-in">     colNA<span class="op">=</span><span class="st">"#818792"</span>, col<span class="op">=</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#78b2c4"</span>, <span class="st">"#cfad89"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/pkg/terra/man/text.html" class="external-link">text</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">3</span>, line<span class="op">=</span><span class="fl">1</span>, adj<span class="op">=</span><span class="fl">0</span>, cex<span class="op">=</span><span class="fl">1</span>, font<span class="op">=</span><span class="fl">2</span>, <span class="st">"CONDITION: RELATIVE NEIGHBORHOOD"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">3</span>, line<span class="op">=</span><span class="fl">0</span>, adj<span class="op">=</span><span class="fl">0</span>, cex<span class="op">=</span><span class="fl">1</span>, <span class="st">"Class continuity: YES"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">1</span>, line<span class="op">=</span><span class="fl">0</span>, cex<span class="op">=</span><span class="fl">0.9</span>, adj<span class="op">=</span><span class="fl">0</span>, <span class="st">"Rule: 'dummy_var &gt; dummy_var{ }'"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">1</span>, line<span class="op">=</span><span class="fl">0</span>, cex<span class="op">=</span><span class="fl">0.9</span>, adj<span class="op">=</span><span class="fl">1</span>, <span class="st">"('{ }' cell neighborhood)"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">1</span>, line<span class="op">=</span><span class="fl">1</span>, cex<span class="op">=</span><span class="fl">0.9</span>, adj<span class="op">=</span><span class="fl">0</span>, <span class="st">"Fn_perc: 0.6 (60%)"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span><span class="st">"bottomright"</span>, bg <span class="op">=</span> <span class="st">"white"</span>, fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#78b2c4"</span>, <span class="st">"#cfad89"</span>, <span class="st">"#818792"</span><span class="op">)</span>,</span>
<span class="r-in">       legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Focal cell"</span>, <span class="st">"Classified cells"</span>, <span class="st">"Unclassified cells"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-plt img"><img src="cond.4.nofn-4.png" alt="" width="700" height="433"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">######################################################################################</span></span>
<span class="r-in"><span class="co"># RELATIVE FOCAL CELL CONDITION</span></span>
<span class="r-in"><span class="co">######################################################################################</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># conditions: "dummy_var &gt; dummy_var[]"</span></span>
<span class="r-in"><span class="va">cv5</span> <span class="op">&lt;-</span> <span class="fu">cond.4.nofn</span><span class="op">(</span>attTbl <span class="op">=</span> <span class="va">at</span>, ngbList <span class="op">=</span> <span class="va">nbs</span>, classVector <span class="op">=</span> <span class="va">at</span><span class="op">$</span><span class="va">cv</span>, nbs_of <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>, class <span class="op">=</span> <span class="fl">1</span>,</span>
<span class="r-in"></span>
<span class="r-in">                   <span class="co"># RELATIVE FOCAL CELL CONDITION</span></span>
<span class="r-in">                   cond <span class="op">=</span> <span class="st">"dummy_var &gt; dummy_var[]"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># CONVERT THE CLASS VECTOR INTO A RASTER</span></span>
<span class="r-in"><span class="va">r_cv5</span> <span class="op">&lt;-</span> <span class="fu"><a href="cv.2.rast.html">cv.2.rast</a></span><span class="op">(</span><span class="va">r</span>, <span class="va">at</span><span class="op">$</span><span class="va">Cell</span>,classVector <span class="op">=</span> <span class="va">cv5</span>, plot <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">#PLOT</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">r_cv5</span>, type<span class="op">=</span><span class="st">"classes"</span>, axes<span class="op">=</span><span class="cn">FALSE</span>, legend <span class="op">=</span> <span class="cn">FALSE</span>, asp <span class="op">=</span> <span class="cn">NA</span>, mar <span class="op">=</span> <span class="va">m</span>,</span>
<span class="r-in">     colNA<span class="op">=</span><span class="st">"#818792"</span>, col<span class="op">=</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#78b2c4"</span>, <span class="st">"#cfad89"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/pkg/terra/man/text.html" class="external-link">text</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">3</span>, line<span class="op">=</span><span class="fl">1</span>, adj<span class="op">=</span><span class="fl">0</span>, cex<span class="op">=</span><span class="fl">1</span>, font<span class="op">=</span><span class="fl">2</span>, <span class="st">"CONDITION: RELATIVE FOCAL CELL"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">3</span>, line<span class="op">=</span><span class="fl">0</span>, adj<span class="op">=</span><span class="fl">0</span>, cex<span class="op">=</span><span class="fl">1</span>, <span class="st">"Class continuity: YES"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">1</span>, line<span class="op">=</span><span class="fl">0</span>, cex<span class="op">=</span><span class="fl">0.9</span>, adj<span class="op">=</span><span class="fl">0</span>, <span class="st">"Rule: 'dummy_var &gt; dummy_var[ ]'"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">1</span>, line<span class="op">=</span><span class="fl">0</span>, cex<span class="op">=</span><span class="fl">0.9</span>, adj<span class="op">=</span><span class="fl">1</span>, <span class="st">"('[ ]' focal cell)"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span><span class="st">"bottomright"</span>, bg <span class="op">=</span> <span class="st">"white"</span>, fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#78b2c4"</span>, <span class="st">"#cfad89"</span>, <span class="st">"#818792"</span><span class="op">)</span>,</span>
<span class="r-in">       legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Focal cell"</span>, <span class="st">"Classified cells"</span>, <span class="st">"Unclassified cells"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-plt img"><img src="cond.4.nofn-5.png" alt="" width="700" height="433"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">######################################################################################</span></span>
<span class="r-in"><span class="co"># HOMOGENEOUS GROWTH</span></span>
<span class="r-in"><span class="co">######################################################################################</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Dummy raster objects 1 and 2</span></span>
<span class="r-in"><span class="va">ro</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/catalyze.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">NROW</a></span><span class="op">(</span><span class="va">at</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="va">ro</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">at</span><span class="op">$</span><span class="va">dummy_var</span> <span class="op">==</span> <span class="fl">10</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span class="r-in"><span class="va">ro</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">at</span><span class="op">$</span><span class="va">dummy_var</span> <span class="op">==</span> <span class="fl">8</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">2</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Not homogeneous growth</span></span>
<span class="r-in"><span class="va">nhg</span> <span class="op">&lt;-</span> <span class="fu">cond.4.nofn</span><span class="op">(</span>attTbl <span class="op">=</span> <span class="va">at</span>, ngbList <span class="op">=</span> <span class="va">nbs</span>, classVector <span class="op">=</span> <span class="va">ro</span>,</span>
<span class="r-in">                   nbs_of <span class="op">=</span> <span class="fl">1</span>, class <span class="op">=</span> <span class="fl">1</span>, <span class="co"># GROWTH ROBJ 1</span></span>
<span class="r-in">                   cond <span class="op">=</span> <span class="st">"dummy_var &lt;= dummy_var[] &amp; dummy_var != 1"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">nhg</span> <span class="op">&lt;-</span> <span class="fu">cond.4.nofn</span><span class="op">(</span>attTbl <span class="op">=</span> <span class="va">at</span>, ngbList <span class="op">=</span> <span class="va">nbs</span>, classVector <span class="op">=</span> <span class="va">nhg</span>, <span class="co"># UPDATE nhg</span></span>
<span class="r-in">                   nbs_of <span class="op">=</span> <span class="fl">2</span>, class <span class="op">=</span> <span class="fl">2</span>, <span class="co"># GROWTH ROBJ 2</span></span>
<span class="r-in">                   cond <span class="op">=</span> <span class="st">"dummy_var &lt;= dummy_var[] &amp; dummy_var != 1"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Homogeneous growth</span></span>
<span class="r-in"><span class="va">hg</span> <span class="op">&lt;-</span> <span class="fu">cond.4.nofn</span><span class="op">(</span>attTbl <span class="op">=</span> <span class="va">at</span>, ngbList <span class="op">=</span> <span class="va">nbs</span>, classVector <span class="op">=</span> <span class="va">ro</span>,</span>
<span class="r-in">                  nbs_of <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, class <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span class="r-in">                  cond <span class="op">=</span> <span class="st">"dummy_var &lt;= dummy_var[] &amp; dummy_var != 1"</span>,</span>
<span class="r-in">                  hgrowth <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="co"># HOMOGENEOUS GROWTH</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Convert class vectors into rasters</span></span>
<span class="r-in"><span class="va">r_nhg</span> <span class="op">&lt;-</span> <span class="fu"><a href="cv.2.rast.html">cv.2.rast</a></span><span class="op">(</span><span class="va">r</span>, <span class="va">at</span><span class="op">$</span><span class="va">Cell</span>,classVector <span class="op">=</span> <span class="va">nhg</span>, plot <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-in"><span class="va">r_hg</span>  <span class="op">&lt;-</span> <span class="fu"><a href="cv.2.rast.html">cv.2.rast</a></span><span class="op">(</span><span class="va">r</span>, <span class="va">at</span><span class="op">$</span><span class="va">Cell</span>,classVector <span class="op">=</span> <span class="va">hg</span>, plot <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Plots</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="va">m</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">1</span>, <span class="fl">5</span>, <span class="fl">1</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Original raster objects (for plotting)</span></span>
<span class="r-in"><span class="va">r_nhg</span><span class="op">[</span><span class="va">at</span><span class="op">$</span><span class="va">dummy_var</span> <span class="op">==</span> <span class="fl">10</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">3</span></span>
<span class="r-in"><span class="va">r_nhg</span><span class="op">[</span><span class="va">at</span><span class="op">$</span><span class="va">dummy_var</span> <span class="op">==</span> <span class="fl">8</span><span class="op">]</span>  <span class="op">&lt;-</span> <span class="fl">4</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">r_hg</span><span class="op">[</span><span class="va">at</span><span class="op">$</span><span class="va">dummy_var</span> <span class="op">==</span> <span class="fl">10</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">3</span></span>
<span class="r-in"><span class="va">r_hg</span><span class="op">[</span><span class="va">at</span><span class="op">$</span><span class="va">dummy_var</span> <span class="op">==</span> <span class="fl">8</span><span class="op">]</span>  <span class="op">&lt;-</span> <span class="fl">4</span></span>
<span class="r-in"><span class="co">#t</span></span>
<span class="r-in"><span class="co"># 1)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">r_nhg</span>, type<span class="op">=</span><span class="st">"classes"</span>, axes<span class="op">=</span><span class="cn">FALSE</span>, legend<span class="op">=</span><span class="cn">FALSE</span>, asp<span class="op">=</span><span class="cn">NA</span>, mar <span class="op">=</span> <span class="va">m</span>,</span>
<span class="r-in">     colNA<span class="op">=</span><span class="st">"#818792"</span>, col<span class="op">=</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#78b2c4"</span>, <span class="st">"#cfc1af"</span>, <span class="st">"#1088a0"</span>, <span class="st">"#cfad89"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/pkg/terra/man/text.html" class="external-link">text</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">3</span>, line<span class="op">=</span><span class="fl">1</span>, adj<span class="op">=</span><span class="fl">0</span>, cex<span class="op">=</span><span class="fl">1</span>, font<span class="op">=</span><span class="fl">2</span>, <span class="st">"RASTER OBJECTS GROWTH"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">3</span>, line<span class="op">=</span><span class="fl">0</span>, adj<span class="op">=</span><span class="fl">0</span>, cex<span class="op">=</span><span class="fl">0.9</span>, <span class="st">"Not homogeneous (hgrowth = FALSE)"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">1</span>, line<span class="op">=</span><span class="fl">0</span>, cex<span class="op">=</span><span class="fl">0.9</span>, adj<span class="op">=</span><span class="fl">0</span>, <span class="st">"Growth rule:"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">1</span>, line<span class="op">=</span><span class="fl">1</span>, cex<span class="op">=</span><span class="fl">0.9</span>, adj<span class="op">=</span><span class="fl">0</span>, <span class="st">"'dummy_var&lt;=dummy_var[ ] &amp; dummy_var!=1''"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span><span class="st">"topleft"</span>, bg <span class="op">=</span> <span class="st">"white"</span>, y.intersp<span class="op">=</span> <span class="fl">1.3</span>,</span>
<span class="r-in">       fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#1088a0"</span>, <span class="st">"#cfc1af"</span>, <span class="st">"#78b2c4"</span>, <span class="st">"#cfc1af"</span>, <span class="st">"#818792"</span><span class="op">)</span>,</span>
<span class="r-in">       legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"RO1"</span>, <span class="st">"RO2"</span>, <span class="st">"RO1 - growth"</span>, <span class="st">"RO2 - growth"</span>, <span class="st">"Unclassified cells"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="co"># 2)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">r_hg</span>, type<span class="op">=</span><span class="st">"classes"</span>, axes<span class="op">=</span><span class="cn">FALSE</span>, legend<span class="op">=</span><span class="cn">FALSE</span>, asp<span class="op">=</span><span class="cn">NA</span>, mar <span class="op">=</span> <span class="va">m</span>,</span>
<span class="r-in">     colNA<span class="op">=</span><span class="st">"#818792"</span>, col<span class="op">=</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#78b2c4"</span>, <span class="st">"#cfc1af"</span>, <span class="st">"#1088a0"</span>, <span class="st">"#cfad89"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/pkg/terra/man/text.html" class="external-link">text</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">3</span>, line<span class="op">=</span><span class="fl">1</span>, adj<span class="op">=</span><span class="fl">0</span>, cex<span class="op">=</span><span class="fl">1</span>, font<span class="op">=</span><span class="fl">2</span>, <span class="st">"RASTER OBJECTS GROWTH"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">3</span>, line<span class="op">=</span><span class="fl">0</span>, adj<span class="op">=</span><span class="fl">0</span>, cex<span class="op">=</span><span class="fl">0.9</span>, <span class="st">"Homogeneous (hgrowth = TRUE)"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">1</span>, line<span class="op">=</span><span class="fl">0</span>, cex<span class="op">=</span><span class="fl">0.9</span>, adj<span class="op">=</span><span class="fl">0</span>, <span class="st">"Growth rule:"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span>side<span class="op">=</span><span class="fl">1</span>, line<span class="op">=</span><span class="fl">1</span>, cex<span class="op">=</span><span class="fl">0.9</span>, adj<span class="op">=</span><span class="fl">0</span>, <span class="st">"'dummy_var&lt;=dummy_var[ ] &amp; dummy_var!=1''"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span><span class="st">"topleft"</span>, bg <span class="op">=</span> <span class="st">"white"</span>, y.intersp<span class="op">=</span> <span class="fl">1.3</span>,</span>
<span class="r-in">       fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#1088a0"</span>, <span class="st">"#cfc1af"</span>, <span class="st">"#78b2c4"</span>, <span class="st">"#cfc1af"</span>, <span class="st">"#818792"</span><span class="op">)</span>,</span>
<span class="r-in">       legend <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"RO1"</span>, <span class="st">"RO2"</span>, <span class="st">"RO1 - growth"</span>, <span class="st">"RO2 - growth"</span>, <span class="st">"Unclassified cells"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-plt img"><img src="cond.4.nofn-6.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Gerald H. Taranto.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '5cc755c9236170520ae6400a64cf71d5',
    indexName: 'scapesclassification',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script></body></html>

